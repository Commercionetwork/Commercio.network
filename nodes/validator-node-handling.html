<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Handling a validator | Commercio.network Documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/icon.png">
    <meta name="description" content="Documentation for the Commercio.network blockchain.">
    
    <link rel="preload" href="/assets/css/0.styles.a31c27c1.css" as="style"><link rel="preload" href="/assets/js/app.0fc4011c.js" as="script"><link rel="preload" href="/assets/js/2.ac32ef9e.js" as="script"><link rel="preload" href="/assets/js/1.da52573b.js" as="script"><link rel="preload" href="/assets/js/183.42354206.js" as="script"><link rel="prefetch" href="/assets/js/10.8225404c.js"><link rel="prefetch" href="/assets/js/100.0acd5a63.js"><link rel="prefetch" href="/assets/js/101.3a263092.js"><link rel="prefetch" href="/assets/js/102.4a0dd1ea.js"><link rel="prefetch" href="/assets/js/103.a1dd6497.js"><link rel="prefetch" href="/assets/js/104.8069582e.js"><link rel="prefetch" href="/assets/js/105.fef5cde4.js"><link rel="prefetch" href="/assets/js/106.7c16c16d.js"><link rel="prefetch" href="/assets/js/107.1f9a4e93.js"><link rel="prefetch" href="/assets/js/108.5a210457.js"><link rel="prefetch" href="/assets/js/109.7ca1e947.js"><link rel="prefetch" href="/assets/js/11.b7d42d3c.js"><link rel="prefetch" href="/assets/js/110.153289d5.js"><link rel="prefetch" href="/assets/js/111.a8bd1352.js"><link rel="prefetch" href="/assets/js/112.6fbcf19a.js"><link rel="prefetch" href="/assets/js/113.05dcf3b6.js"><link rel="prefetch" href="/assets/js/114.f6b8c10c.js"><link rel="prefetch" href="/assets/js/115.ed5dafe3.js"><link rel="prefetch" href="/assets/js/116.280996fd.js"><link rel="prefetch" href="/assets/js/117.48230682.js"><link rel="prefetch" href="/assets/js/118.6f04dd1b.js"><link rel="prefetch" href="/assets/js/119.f7843b6d.js"><link rel="prefetch" href="/assets/js/12.63c1f64f.js"><link rel="prefetch" href="/assets/js/120.5a9d9f38.js"><link rel="prefetch" href="/assets/js/121.26279746.js"><link rel="prefetch" href="/assets/js/122.f0bce998.js"><link rel="prefetch" href="/assets/js/123.1e17818a.js"><link rel="prefetch" href="/assets/js/124.97f37d3c.js"><link rel="prefetch" href="/assets/js/125.f54cac5e.js"><link rel="prefetch" href="/assets/js/126.91771e3d.js"><link rel="prefetch" href="/assets/js/127.b77be613.js"><link rel="prefetch" href="/assets/js/128.d1658c32.js"><link rel="prefetch" href="/assets/js/129.961370c1.js"><link rel="prefetch" href="/assets/js/13.aed2da28.js"><link rel="prefetch" href="/assets/js/130.23ba8a5e.js"><link rel="prefetch" href="/assets/js/131.017de9d5.js"><link rel="prefetch" href="/assets/js/132.f6bc5db9.js"><link rel="prefetch" href="/assets/js/133.f955cda5.js"><link rel="prefetch" href="/assets/js/134.c7c6bb5c.js"><link rel="prefetch" href="/assets/js/135.48ed81c7.js"><link rel="prefetch" href="/assets/js/136.f338eaa8.js"><link rel="prefetch" href="/assets/js/137.bfd679e4.js"><link rel="prefetch" href="/assets/js/138.0f701fd7.js"><link rel="prefetch" href="/assets/js/139.96f9aa65.js"><link rel="prefetch" href="/assets/js/14.7a8ad4bd.js"><link rel="prefetch" href="/assets/js/140.3b281efd.js"><link rel="prefetch" href="/assets/js/141.0ead1087.js"><link rel="prefetch" href="/assets/js/142.571caa8f.js"><link rel="prefetch" href="/assets/js/143.2fe22d28.js"><link rel="prefetch" href="/assets/js/144.0728b55f.js"><link rel="prefetch" href="/assets/js/145.f6bad734.js"><link rel="prefetch" href="/assets/js/146.d92c2dde.js"><link rel="prefetch" href="/assets/js/147.f728f8e9.js"><link rel="prefetch" href="/assets/js/148.15371f31.js"><link rel="prefetch" href="/assets/js/149.aaa34be9.js"><link rel="prefetch" href="/assets/js/15.ef3206c2.js"><link rel="prefetch" href="/assets/js/150.4fb767ff.js"><link rel="prefetch" href="/assets/js/151.25b5b4f8.js"><link rel="prefetch" href="/assets/js/152.c36e9de7.js"><link rel="prefetch" href="/assets/js/153.0867e4e1.js"><link rel="prefetch" href="/assets/js/154.a78a32f4.js"><link rel="prefetch" href="/assets/js/155.ef8a1c8f.js"><link rel="prefetch" href="/assets/js/156.a5fd8779.js"><link rel="prefetch" href="/assets/js/157.6e278808.js"><link rel="prefetch" href="/assets/js/158.1e7cc8a8.js"><link rel="prefetch" href="/assets/js/159.5b7a8394.js"><link rel="prefetch" href="/assets/js/16.9b6ccbcc.js"><link rel="prefetch" href="/assets/js/160.0b3adc35.js"><link rel="prefetch" href="/assets/js/161.35923700.js"><link rel="prefetch" href="/assets/js/162.c9f78751.js"><link rel="prefetch" href="/assets/js/163.c4a27340.js"><link rel="prefetch" href="/assets/js/164.98f2691a.js"><link rel="prefetch" href="/assets/js/165.22cad993.js"><link rel="prefetch" href="/assets/js/166.3a5ab4e0.js"><link rel="prefetch" href="/assets/js/167.a768e87e.js"><link rel="prefetch" href="/assets/js/168.e28f9615.js"><link rel="prefetch" href="/assets/js/169.4ecd9763.js"><link rel="prefetch" href="/assets/js/17.d9976bfd.js"><link rel="prefetch" href="/assets/js/170.6731ef87.js"><link rel="prefetch" href="/assets/js/171.b6a97052.js"><link rel="prefetch" href="/assets/js/172.299fa75e.js"><link rel="prefetch" href="/assets/js/173.0a24f714.js"><link rel="prefetch" href="/assets/js/174.574532da.js"><link rel="prefetch" href="/assets/js/175.8ab0f73e.js"><link rel="prefetch" href="/assets/js/176.22085d86.js"><link rel="prefetch" href="/assets/js/177.d94f1149.js"><link rel="prefetch" href="/assets/js/178.7b3add9e.js"><link rel="prefetch" href="/assets/js/179.a78af058.js"><link rel="prefetch" href="/assets/js/18.74f5b65e.js"><link rel="prefetch" href="/assets/js/180.845eb298.js"><link rel="prefetch" href="/assets/js/181.e737fa16.js"><link rel="prefetch" href="/assets/js/182.cc6effea.js"><link rel="prefetch" href="/assets/js/184.fdc442a1.js"><link rel="prefetch" href="/assets/js/185.2e54cde4.js"><link rel="prefetch" href="/assets/js/186.45063ec3.js"><link rel="prefetch" href="/assets/js/187.c6a92f07.js"><link rel="prefetch" href="/assets/js/188.b49cac65.js"><link rel="prefetch" href="/assets/js/189.9c62b5b8.js"><link rel="prefetch" href="/assets/js/19.1c8ab2a5.js"><link rel="prefetch" href="/assets/js/190.f021414a.js"><link rel="prefetch" href="/assets/js/191.760d2f46.js"><link rel="prefetch" href="/assets/js/20.351ed211.js"><link rel="prefetch" href="/assets/js/21.e2ca7763.js"><link rel="prefetch" href="/assets/js/22.8db7a878.js"><link rel="prefetch" href="/assets/js/23.e51f5581.js"><link rel="prefetch" href="/assets/js/24.5130196f.js"><link rel="prefetch" href="/assets/js/25.56a82d1b.js"><link rel="prefetch" href="/assets/js/26.10942abd.js"><link rel="prefetch" href="/assets/js/27.78f8142f.js"><link rel="prefetch" href="/assets/js/28.ab2474e2.js"><link rel="prefetch" href="/assets/js/29.1585b7fd.js"><link rel="prefetch" href="/assets/js/3.f5570fde.js"><link rel="prefetch" href="/assets/js/30.89a3cde3.js"><link rel="prefetch" href="/assets/js/31.a6e686fa.js"><link rel="prefetch" href="/assets/js/32.b002cf06.js"><link rel="prefetch" href="/assets/js/33.78fc0a29.js"><link rel="prefetch" href="/assets/js/34.f4808895.js"><link rel="prefetch" href="/assets/js/35.d5ac07cd.js"><link rel="prefetch" href="/assets/js/36.75a94eb0.js"><link rel="prefetch" href="/assets/js/37.6d1f1e01.js"><link rel="prefetch" href="/assets/js/38.0161b3f6.js"><link rel="prefetch" href="/assets/js/39.fc44419d.js"><link rel="prefetch" href="/assets/js/4.3d7e1167.js"><link rel="prefetch" href="/assets/js/40.87f05c68.js"><link rel="prefetch" href="/assets/js/41.db10de88.js"><link rel="prefetch" href="/assets/js/42.c59c554d.js"><link rel="prefetch" href="/assets/js/43.6414d0a2.js"><link rel="prefetch" href="/assets/js/44.73953435.js"><link rel="prefetch" href="/assets/js/45.9e04cf98.js"><link rel="prefetch" href="/assets/js/46.ff5983a1.js"><link rel="prefetch" href="/assets/js/47.1e085b0d.js"><link rel="prefetch" href="/assets/js/48.6f8813c0.js"><link rel="prefetch" href="/assets/js/49.b2828af6.js"><link rel="prefetch" href="/assets/js/5.515e517f.js"><link rel="prefetch" href="/assets/js/50.dd142e4a.js"><link rel="prefetch" href="/assets/js/51.72534ece.js"><link rel="prefetch" href="/assets/js/52.7abaa630.js"><link rel="prefetch" href="/assets/js/53.a05272d6.js"><link rel="prefetch" href="/assets/js/54.39280cee.js"><link rel="prefetch" href="/assets/js/55.56e40469.js"><link rel="prefetch" href="/assets/js/56.cae7d426.js"><link rel="prefetch" href="/assets/js/57.9b2b4098.js"><link rel="prefetch" href="/assets/js/58.5ae4fad2.js"><link rel="prefetch" href="/assets/js/59.436b6860.js"><link rel="prefetch" href="/assets/js/6.921e6e44.js"><link rel="prefetch" href="/assets/js/60.e3e0fa5c.js"><link rel="prefetch" href="/assets/js/61.a51e25c4.js"><link rel="prefetch" href="/assets/js/62.40848567.js"><link rel="prefetch" href="/assets/js/63.131e949b.js"><link rel="prefetch" href="/assets/js/64.17f96d11.js"><link rel="prefetch" href="/assets/js/65.8e272f26.js"><link rel="prefetch" href="/assets/js/66.7e89c847.js"><link rel="prefetch" href="/assets/js/67.d408360c.js"><link rel="prefetch" href="/assets/js/68.fd4204d4.js"><link rel="prefetch" href="/assets/js/69.98dc4570.js"><link rel="prefetch" href="/assets/js/7.fffb9950.js"><link rel="prefetch" href="/assets/js/70.5040cba3.js"><link rel="prefetch" href="/assets/js/71.6a8123f1.js"><link rel="prefetch" href="/assets/js/72.9fe20ff1.js"><link rel="prefetch" href="/assets/js/73.c999b3b1.js"><link rel="prefetch" href="/assets/js/74.725d10bd.js"><link rel="prefetch" href="/assets/js/75.5b922a20.js"><link rel="prefetch" href="/assets/js/76.d4879f49.js"><link rel="prefetch" href="/assets/js/77.333911e9.js"><link rel="prefetch" href="/assets/js/78.cb9c426c.js"><link rel="prefetch" href="/assets/js/79.0a532086.js"><link rel="prefetch" href="/assets/js/80.d5f5c489.js"><link rel="prefetch" href="/assets/js/81.9fa6b600.js"><link rel="prefetch" href="/assets/js/82.417600af.js"><link rel="prefetch" href="/assets/js/83.27898cb7.js"><link rel="prefetch" href="/assets/js/84.2c0eafa1.js"><link rel="prefetch" href="/assets/js/85.77177c5f.js"><link rel="prefetch" href="/assets/js/86.f59c67b1.js"><link rel="prefetch" href="/assets/js/87.b7fb94e6.js"><link rel="prefetch" href="/assets/js/88.a28049b4.js"><link rel="prefetch" href="/assets/js/89.56e8e86d.js"><link rel="prefetch" href="/assets/js/90.8ca4beaa.js"><link rel="prefetch" href="/assets/js/91.efc16c9e.js"><link rel="prefetch" href="/assets/js/92.09ddfb87.js"><link rel="prefetch" href="/assets/js/93.4e4bc234.js"><link rel="prefetch" href="/assets/js/94.eba3a2fc.js"><link rel="prefetch" href="/assets/js/95.c1845811.js"><link rel="prefetch" href="/assets/js/96.3c43bddf.js"><link rel="prefetch" href="/assets/js/97.3b9eeb74.js"><link rel="prefetch" href="/assets/js/98.91ab8e4c.js"><link rel="prefetch" href="/assets/js/99.7da367d2.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d852a880.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a31c27c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon.png" alt="Commercio.network Documentation" class="logo"> <span class="site-name can-hide">Commercio.network Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  ver 3.0.0
</a></li><li class="dropdown-item"><!----> <a href="/docs2.2.0/" class="nav-link">
  ver 2.2.0
</a></li><li class="dropdown-item"><!----> <a href="/docs2.1.2/" class="nav-link">
  ver 2.1.2
</a></li></ul></div></div><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/N7DxaDj5sW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://t.me/CommercioNetwork" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/commercionet?s=21&amp;t=8FTpg5f7kurZ1d7LOb9YXw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  ver 3.0.0
</a></li><li class="dropdown-item"><!----> <a href="/docs2.2.0/" class="nav-link">
  ver 2.2.0
</a></li><li class="dropdown-item"><!----> <a href="/docs2.1.2/" class="nav-link">
  ver 2.1.2
</a></li></ul></div></div><div class="nav-item"><a href="https://commercio.network" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://discord.gg/N7DxaDj5sW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://t.me/CommercioNetwork" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/commercionet?s=21&amp;t=8FTpg5f7kurZ1d7LOb9YXw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/commercionetwork/commercionetwork" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Overview</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Running Nodes</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nodes/" aria-current="page" class="sidebar-link">Commercio.network overview</a></li><li><a href="/nodes/hardware-requirements.html" class="sidebar-link">Hardware requirements</a></li><li><a href="/nodes/full-node-installation.html" class="sidebar-link">Installing a full node</a></li><li><a href="/nodes/statesync-node-installation.html" class="sidebar-link">Installing a statesynced node</a></li><li><a href="/nodes/statesync-node-quicksync.html" class="sidebar-link">Installing a statesynced node with a snapshot</a></li><li><a href="/nodes/validator-node-installation.html" class="sidebar-link">Becoming a validator</a></li><li><a href="/nodes/validator-node-handling.html" aria-current="page" class="active sidebar-link">Handling a validator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#downtime-rules" class="sidebar-link">Downtime rules</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#double-sign-rules" class="sidebar-link">Double sign rules</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#unjail-procedure" class="sidebar-link">Unjail procedure</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#unbond-procedure" class="sidebar-link">Unbond procedure</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#redelegate-procedure" class="sidebar-link">Redelegate procedure</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#move-node-to-other-server" class="sidebar-link">Move node to other server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#move-validator-to-another-server-with-priv-validator-key-json-file" class="sidebar-link">Move validator to another server with priv_validator_key.json file</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#move-validator-to-another-server-with-kms" class="sidebar-link">Move validator to another server with kms</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#resume-validator-after-break-down-with-priv-validator-key-json-file" class="sidebar-link">Resume validator after break down with priv_validator_key.json file</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#resume-validator-after-break-down-with-kms" class="sidebar-link">Resume validator after break down with kms</a></li></ul></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#x-loss-of-blocks" class="sidebar-link">x% Loss of blocks</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#disk-consumption-growth" class="sidebar-link">Disk consumption growth</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#add-a-new-disk-to-the-node" class="sidebar-link">Add a new disk to the node</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#increase-disk-space" class="sidebar-link">Increase disk space</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#split-the-content-of-data-folder" class="sidebar-link">Split the content of data folder</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#prune-the-node" class="sidebar-link">Prune the node</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#state-sync-the-node" class="sidebar-link">State sync the node</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#state-sync-the-node-with-snapshot" class="sidebar-link">State sync the node with snapshot</a></li></ul></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#add-identity-to-your-validator" class="sidebar-link">Add identity to your validator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#references-keybase" class="sidebar-link">References keybase</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#_1-registration" class="sidebar-link">1. Registration</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#_2-adding-one-or-more-devices" class="sidebar-link">2. Adding one or more devices</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#_3-verify-email" class="sidebar-link">3. Verify email</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#_4-add-logo-and-key" class="sidebar-link">4. Add logo and key</a></li><li class="sidebar-sub-header"><a href="/nodes/validator-node-handling.html#_5-edit-your-validator-adding-identity" class="sidebar-link">5. Edit your validator adding identity</a></li></ul></li></ul></li><li><a href="/nodes/validator-node-update.html" class="sidebar-link">Updating a validator</a></li><li><a href="/nodes/kms-installation.html" class="sidebar-link">KMS installation</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API Developers</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/app_developers/commercioapi-introduction.html" class="sidebar-link">Introduction to CommercioAPI</a></li><li><a href="/app_developers/commercioapi-authentication.html" class="sidebar-link">Authentication process</a></li><li><a href="/app_developers/commercioapi-wallet.html" class="sidebar-link">eID</a></li><li><a href="/app_developers/commercioapi-ekyc.html" class="sidebar-link">eKyc</a></li><li><a href="/app_developers/commercioapi-sharedoc.html" class="sidebar-link">eDelivery</a></li><li><a href="/app_developers/commercioapi-esign.html" class="sidebar-link">eSign</a></li><li><a href="/app_developers/commercioapi-flow_examples.html" class="sidebar-link">Flows examples : Api usage</a></li><li><a href="/app_developers/commercioapi-surcharge.html" class="sidebar-link">Surcharge POST options</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/modules/" class="sidebar-heading clickable"><span>Custom Modules</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/government/" class="sidebar-heading clickable open"><span>Government</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/modules/government/" class="sidebar-link">Concepts</a></li><li><a href="/modules/government/01_state.html" class="sidebar-link">State</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/did/" class="sidebar-heading clickable"><span>Did</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/documents/" class="sidebar-heading clickable"><span>Documents</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/commerciomint/" class="sidebar-heading clickable"><span>CommercioMint</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/commerciokyc/" class="sidebar-heading clickable"><span>CommercioKYC</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/modules/vbr/" class="sidebar-heading clickable"><span>Vbr</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ver 2.2.0</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ver 2.1.2</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="handling-a-validator"><a href="#handling-a-validator" class="header-anchor">#</a> Handling a validator</h1> <p>Once you've properly set up a <a href="/nodes/validator-node-installation.html">validator node</a>, it must be subject to certain rules and certain operations must be carried out to manage it.</p> <ul><li><a href="#handling-a-validator">Handling a validator</a> <ul><li><a href="#downtime-rules">Downtime rules</a></li> <li><a href="#double-sign-rules">Double sign rules</a></li> <li><a href="#unjail-procedure">Unjail procedure</a></li> <li><a href="#unbond-procedure">Unbond procedure</a></li> <li><a href="#redelegate-procedure">Redelegate procedure</a></li> <li><a href="#move-node-to-other-server">Move node to other server</a> <ul><li><a href="#move-validator-to-another-server-with-priv_validator_keyjson-file">Move validator to another server with <code>priv_validator_key.json</code> file</a></li> <li><a href="#move-validator-to-another-server-with-kms">Move validator to another server with <code>kms</code></a></li> <li><a href="#resume-validator-after-break-down-with-priv_validator_keyjson-file">Resume validator after break down with <code>priv_validator_key.json</code> file</a></li> <li><a href="#resume-validator-after-break-down-with-kms">Resume validator after break down with <code>kms</code></a></li></ul></li> <li><a href="#x-loss-of-blocks">x% Loss of blocks</a></li> <li><a href="#disk-consumption-growth">Disk consumption growth</a> <ul><li><a href="#add-a-new-disk-to-the-node">Add a new disk to the node</a></li> <li><a href="#increase-disk-space">Increase disk space</a></li> <li><a href="#split-the-content-of-data-folder">Split the content of <code>data</code> folder</a></li> <li><a href="#prune-the-node">Prune the node</a></li> <li><a href="#state-sync-the-node">State sync the node</a></li> <li><a href="#state-sync-the-node-with-snapshot">State sync the node with snapshot</a></li></ul></li> <li><a href="#add-identity-to-your-validator">Add identity to your validator</a> <ul><li><a href="#references-keybase">References keybase</a></li> <li><a href="#1-registration">1. Registration</a></li> <li><a href="#2-adding-one-or-more-devices">2. Adding one or more devices</a> <ul><li><a href="#21-program-installation-on-computers">2.1. Program installation on computers</a></li> <li><a href="#22-app-installation-on-iphone-and-android">2.2. App installation on iPhone and Android</a></li></ul></li> <li><a href="#3-verify-email">3. Verify email</a></li> <li><a href="#4-add-logo-and-key">4. Add logo and key</a></li> <li><a href="#5-edit-your-validator-adding-identity">5. Edit your validator adding identity</a></li></ul></li></ul></li></ul> <h2 id="downtime-rules"><a href="#downtime-rules" class="header-anchor">#</a> Downtime rules</h2> <p>The node can only stay offline for a certain amount of time.<br>
In the case of <strong>Commercio Network</strong> this period has been fixed at 19,000 blocks lost, approximately corresponding to 27/28 hours.<br>
Validator must validate at least 5% of a window of 20000 blocks, i.e. 19000 blocks.<br>
If the node remains offline or fails to produce blocks for a period longer than the limit, it will incur slashing, i.e. an immediate loss of a certain amount of the staked tokens and the exit from the active validator set<br> <strong>For &quot;Commercio Network&quot; the slashing percentage for downtime is set at <code>1%</code>.</strong></p> <h2 id="double-sign-rules"><a href="#double-sign-rules" class="header-anchor">#</a> Double sign rules</h2> <p>A validator node must be unique on the chain, so only a node can sign with that private key.<br>
If there was another node with the same private key, this would result in a double signature, and therefore an immediate jail entry of the node with no exit possibility.<br> <strong>For &quot;Commercio Network&quot; the slashing percentage for double sing is set at <code>5%</code>.</strong><br>
If you run into double signatures all tokens must be unbond and you must create a new validator node with new private keys.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The unbond period is 21 days, so is necessary to wait this period to get back in possession of your tokens.</p></div> <h2 id="unjail-procedure"><a href="#unjail-procedure" class="header-anchor">#</a> Unjail procedure</h2> <p>In case a validator ended up jailed for downtime, it is necessary that the wallet that created the validator performs an unjail transaction.<br>
The follow command must be performed</p> <div class="language-bash extra-class"><pre class="language-bash"><code>commercionetworkd tx slashing <span class="token punctuation">\</span>
  unjail <span class="token punctuation">\</span>
  <span class="token parameter variable">--from</span> <span class="token operator">&lt;</span>your pub addr creator val<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--fees</span><span class="token operator">=</span>10000ucommercio  <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CHAINID</span>&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-y</span>
</code></pre></div><p><strong>Note</strong>: You can use <code>uccc</code> tokens instead <code>ucommercio</code> for the <code>fees</code> value</p> <p>If you are using the <strong>Ledger device</strong> you must first connect it to your computer, start the cosmos application and add <code>--ledger</code> flag to the command.</p> <h2 id="unbond-procedure"><a href="#unbond-procedure" class="header-anchor">#</a> Unbond procedure</h2> <p>Tokens can be delegated to any validator to increase its stake.<br>
In case you want to remove all or part of the delegated tokens, an <code>unbond transaction</code> must be performed.<br>
The undelegated period is <strong>21 days</strong>, so is necessary to wait this period to get back in possession of your tokens.<br>
To perform <code>unbond transaction</code> use the follow command</p> <div class="language-bash extra-class"><pre class="language-bash"><code>commercionetworkd tx staking <span class="token punctuation">\</span>
  unbond <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>validator-operator-addr<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  50000000000ucommercio <span class="token punctuation">\</span>
  <span class="token parameter variable">--from</span> <span class="token operator">&lt;</span>your pub addr delegator<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--fees</span><span class="token operator">=</span>10000ucommercio  <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CHAINID</span>&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-y</span>
</code></pre></div><p><strong>Note</strong>: You can use <code>uccc</code> tokens instead <code>ucommercio</code> for the <code>fees</code> value</p> <p>value of <code>&lt;validator-operator-addr&gt;</code> can be obtain from explorer:</p> <p><a href="https://testnet.commercio.network/it/validators" target="_blank" rel="noopener noreferrer">Commercio.network explorer Testnet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.<br> <a href="https://mainnet.commercio.network/it/validators" target="_blank" rel="noopener noreferrer">Commercio.network explorer Mainnet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If you see your validator in the list click on its name.<br>
The validator tab should have the value <strong>Operator</strong>. That value is your <code>&lt;validator-operator-addr&gt;</code></p> <p>If you are using the <strong>Ledger device</strong> you must first connect it to your computer, start the cosmos application and add <code>--ledger</code> flag to the command.</p> <h2 id="redelegate-procedure"><a href="#redelegate-procedure" class="header-anchor">#</a> Redelegate procedure</h2> <p>It is possible to perform a procedure of moving tokens in stake from one validator to another through the <code>redelegate transaction</code>.<br>
To perform <code>redelegate transaction</code> use the follow command</p> <div class="language-bash extra-class"><pre class="language-bash"><code>commercionetworkd tx staking <span class="token punctuation">\</span>
  redelegate <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>source-validator-operator-addr<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>destination-validator-operator-addr<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  50000000000ucommercio <span class="token punctuation">\</span>
  <span class="token parameter variable">--from</span> <span class="token operator">&lt;</span>your pub addr delegator<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--fees</span><span class="token operator">=</span>10000ucommercio <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$CHAINID</span>&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-y</span>
</code></pre></div><p><strong>Note</strong>: You can use <code>uccc</code> tokens instead <code>ucommercio</code> for the <code>fees</code> value</p> <p>value of <code>&lt;source-validator-operator-addr&gt;</code> and <code>&lt;destination-validator-operator-addr&gt;</code> can be obtains from explorer:</p> <p><a href="https://testnet.commercio.network/it/validators" target="_blank" rel="noopener noreferrer">Commercio.network explorer Testnet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.<br> <a href="https://mainnet.commercio.network/it/validators" target="_blank" rel="noopener noreferrer">Commercio.network explorer Mainnet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Search your source validator in the list, i.e. the validator you want to move the tokens from, and click on its name.<br>
The validator tab should have the value <strong>Operator</strong>. That value is your <code>&lt;source-validator-operator-addr&gt;</code><br>
Return to the list of validators and search your destination validator, i.e. the validator you want to move the tokens to, and click on its name.<br>
The validator tab should have the value <strong>Operator</strong>. That value is your <code>&lt;destination-validator-operator-addr&gt;</code></p> <p>If you are using the <strong>Ledger device</strong> you must first connect it to your computer, start the cosmos application and add <code>--ledger</code> flag to the command.</p> <h2 id="move-node-to-other-server"><a href="#move-node-to-other-server" class="header-anchor">#</a> Move node to other server</h2> <p>If you need to move your validator to another server, the only thing that you need to move is your private key.<br>
Your node structure should be something like below</p> <div class="language-bash extra-class"><pre class="language-bash"><code>.commercionetwork
├── config
│   └── app.toml
│   └── config.toml
│   └── genesis.json
│   └── node_key.json
│   └── priv_validator_key.json
├── data
│   └── priv_validator_state.json
└── cosmovisor
    └── current -<span class="token operator">&gt;</span> /path/to/the/current/version/of/commercionetworkd
    └── genesis
    │   └── bin
    │      └── commercionetworkd
    └── upgrades
        └── <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span>
           └── bin
               └── commercionetworkd

</code></pre></div><p>If you don't use <code>kms</code> the private key of your validator is saved in <code>priv_validator_key.json</code> file.</p> <h3 id="move-validator-to-another-server-with-priv-validator-key-json-file"><a href="#move-validator-to-another-server-with-priv-validator-key-json-file" class="header-anchor">#</a> Move validator to another server with <code>priv_validator_key.json</code> file</h3> <ol><li>Install a full node in the new server</li> <li>Stop the full node <code>commercionetworkd</code> service in the <strong>new server</strong><div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li>Copy <code>data</code> folder to the new server<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--exclude</span> wasm/cache <span class="token punctuation">\</span>
  ~/.commercionetwork/data/ <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>USER_NEW_SERVER<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>IP_NEW_SERVER<span class="token operator">&gt;</span>:.commercionetwork/data/
</code></pre></div></li> <li>Stop and disable the <code>commercionetworkd</code> service in the <strong>current (old) server</strong> of validator node<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
systemctl disable commercionetworkd
</code></pre></div></li> <li>Sync again your new node <code>data</code> folder<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--exclude</span> wasm/cache <span class="token punctuation">\</span>
  ~/.commercionetwork/data/ <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>USER_NEW_SERVER<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>IP_NEW_SERVER<span class="token operator">&gt;</span>:.commercionetwork/data/
</code></pre></div></li> <li>Copy your <code>priv_validator_key.json</code> in the <strong>new server</strong><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">scp</span> ~/.commercionetwork/config/priv_validator_key.json <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>USER_NEW_SERVER<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>IP_NEW_SERVER<span class="token operator">&gt;</span>:.commercionetwork/config/priv_validator_key.json
</code></pre></div></li> <li>If you have some special setup in your <code>config.toml</code> and <code>app.toml</code> copy that in your new node.</li> <li>Remove the <code>priv_validator_key.json</code> file from <strong>old server</strong><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> ~/.commercionetwork/config/priv_validator_key.json
</code></pre></div></li> <li>Restart the node in your new server<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if your validator signs again checking the explorer</li></ol> <h3 id="move-validator-to-another-server-with-kms"><a href="#move-validator-to-another-server-with-kms" class="header-anchor">#</a> Move validator to another server with <code>kms</code></h3> <ol><li>Install a full node in the new server</li> <li>Stop the full node <code>commercionetworkd</code> service in the new server<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li>Copy <code>data</code> folder to the new server<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span>  <span class="token punctuation">\</span>
<span class="token parameter variable">--exclude</span> wasm/cache <span class="token punctuation">\</span>
  ~/.commercionetwork/data/ <span class="token punctuation">\</span>
  <span class="token operator">&lt;</span>USER_NEW_SERVER<span class="token operator">&gt;</span>@<span class="token operator">&lt;</span>IP_NEW_SERVER<span class="token operator">&gt;</span>:.commercionetwork/data/
</code></pre></div></li> <li>If you have some special setup in your <code>config.toml</code> and <code>app.toml</code> copy that in your new node. Especially setup your <code>priv_val_addr</code> in <code>config.toml</code> using the setup of your server.</li> <li>Enter in your <code>kms</code> server and stop the <code>tmkms</code> service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop tmkms
</code></pre></div></li> <li>Modify <code>tmkms</code> config using <code>priv_val_addr</code> value of your validator<div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">validator</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">addr</span> <span class="token punctuation">=</span> <span class="token string">&quot;tcp://&lt;VALIDATOR_IP&gt;:26658&quot;</span>
</code></pre></div></li> <li>Restart <code>tmkms</code> service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start tmkms
</code></pre></div></li> <li>Restart the node in your new server<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if your validator signs again checking the explorer</li></ol> <h3 id="resume-validator-after-break-down-with-priv-validator-key-json-file"><a href="#resume-validator-after-break-down-with-priv-validator-key-json-file" class="header-anchor">#</a> Resume validator after break down with <code>priv_validator_key.json</code> file</h3> <p>To resume a validator after break down or some other terrible issue that destroy your server you need to have the <code>priv_validator_key.json</code> saved in a secure place.</p> <ol><li>Install a full node in the new server</li> <li>After the node is synced with the chain stop it<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li>Copy your saved <code>priv_validator_key.json</code> file in the new server in <code>~/.commercionetwork/config/</code> folder</li> <li>Restart the node in your new server<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if your validator signs again checking the explorer</li></ol> <h3 id="resume-validator-after-break-down-with-kms"><a href="#resume-validator-after-break-down-with-kms" class="header-anchor">#</a> Resume validator after break down with <code>kms</code></h3> <ol><li>Install a full node in the new server</li> <li>After the node is synced with the chain stop it<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li>Setup your <code>priv_val_addr</code> in <code>config.toml</code> using the setup of your server.</li> <li>Enter in your <code>kms</code> server and stop the <code>tmkms</code> service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop tmkms
</code></pre></div></li> <li>Modify <code>tmkms</code> config using <code>priv_val_addr</code> value of your validator<div class="language-toml extra-class"><pre class="language-toml"><code><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">validator</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">addr</span> <span class="token punctuation">=</span> <span class="token string">&quot;tcp://&lt;VALIDATOR_IP&gt;:26658&quot;</span>
</code></pre></div></li> <li>Restart <code>tmkms</code> service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start tmkms
</code></pre></div></li> <li>Restart the node in your new server<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if your validator signs again checking the explorer</li></ol> <h2 id="x-loss-of-blocks"><a href="#x-loss-of-blocks" class="header-anchor">#</a> x% Loss of blocks</h2> <p>What does an x% loss of blocks mean for a validator?</p> <p>In order to create blocks and extend the blockchain, active validators are selected in proportion to their stake by a pseudo-random mechanism that assigns at a time t a proposer (block proposer) and a fixed pool of validators (committee). The block proposer is assigned the task of proposing the block Bt (block at time t) while the committee is given the task of voting whether the block is hung on the chain or not.</p> <p>Losing a block for a validator means that this validator was inactive at the time of the committee's choice or that it did not vote towards the execution of the block. Thus, having a validator with an x% loss of blocks means that the validator is only active (100 - x)% of the time when the Bt block is assigned.</p> <h2 id="disk-consumption-growth"><a href="#disk-consumption-growth" class="header-anchor">#</a> Disk consumption growth</h2> <p>The disk consumption of a node is mainly due to the storage of the blockchain and the state of the application. The blockchain is the sequence of blocks that are created over time and that are linked together by the hash of the previous block. The state of the application is the set of all the data that the application stores in the blockchain. The state of the application is stored in the <code>data</code> folder of the node.<br>
Time after time the space occupied by the blockchain and the state of the application increases, and you need to increase the disk space of the node or reduce the space occupied by the blockchain and the state of the application.</p> <h3 id="add-a-new-disk-to-the-node"><a href="#add-a-new-disk-to-the-node" class="header-anchor">#</a> Add a new disk to the node</h3> <p>The node can be configured to use a new disk to store the blockchain and the state of the application. You need to transfer the <code>data</code> folder of the node to the new disk, and after linking the new folder to the <code>data</code> folder of the node. The following steps must be performed to add a new disk to the node:</p> <ol><li>Create a new disk in the vm provider (depending on the vm provider)</li> <li>Mount the new disk in the node<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
<span class="token function">mkdir</span> /mnt/data
<span class="token function">mount</span> /dev/sdb /mnt/data
</code></pre></div></li> <li>Transfer the <code>data</code> folder of the node to the new disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--exclude</span> wasm/cache <span class="token punctuation">\</span>
  ~/.commercionetwork/data/ <span class="token punctuation">\</span>
  /mnt/data/
</code></pre></div></li> <li>Stop the node service and finalize the transfer of the <code>data</code> folder of the node to the new disk<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
<span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--exclude</span> wasm/cache <span class="token punctuation">\</span>
  ~/.commercionetwork/data/ <span class="token punctuation">\</span>
  /mnt/data/
</code></pre></div></li> <li>Link the new <code>data</code> folder to the <code>data</code> folder of the node<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/.commercionetwork
<span class="token function">mv</span> data data_old
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /mnt/data data
</code></pre></div></li> <li>Restart the node service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if the node is working<div class="language-bash extra-class"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> commercionetworkd <span class="token parameter variable">-f</span>
</code></pre></div></li> <li>Remove the old <code>data</code> folder<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> ~/.commercionetwork/data_old
</code></pre></div></li></ol> <h3 id="increase-disk-space"><a href="#increase-disk-space" class="header-anchor">#</a> Increase disk space</h3> <p>The vm provider allows you to increase the disk space of the node. The following steps must be performed to increase the disk space of the node (depending on the vm provider. <strong>Based on DigitalOcean Provider</strong>):</p> <ol><li>Increase the disk space of the node from the vm provider console</li> <li>Enter in the node and stop the node service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li>Check the mount point of the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre></div>Output example:<div class="language-bash extra-class"><pre class="language-bash"><code>filesystem      size  used  avail  use%  mounted on
/dev/sda        25G   5G    20G    <span class="token number">20</span>%   /
/dev/sdb        25G   5G    20G    <span class="token number">20</span>%   /mnt/data
</code></pre></div>Get the mount point of the disk. In this example the mount point is <code>/dev/sdb</code></li> <li>Umount the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
<span class="token function">umount</span> /mnt/data
</code></pre></div></li> <li>Resize the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
e2fsck <span class="token parameter variable">-f</span> /dev/sdb
resize2fs /dev/sdb
</code></pre></div></li> <li>Mount the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">su</span> -
<span class="token function">mount</span> /dev/sdb /mnt/data
</code></pre></div></li> <li>Check the size of the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre></div></li> <li>Restart the node service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if the node is working<div class="language-bash extra-class"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> commercionetworkd <span class="token parameter variable">-f</span>
</code></pre></div></li></ol> <h3 id="split-the-content-of-data-folder"><a href="#split-the-content-of-data-folder" class="header-anchor">#</a> Split the content of <code>data</code> folder</h3> <p>The blockchain and the state of the application can be split into different folders. The following steps must be performed to split the blockchain and the state of the application into different folders:</p> <ol><li>Add a new disk to the node</li> <li>Check the mount point of the disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre></div>Output example:<div class="language-bash extra-class"><pre class="language-bash"><code>filesystem      size  used  avail  use%  mounted on
/dev/sda        25G   5G    20G    <span class="token number">20</span>%   /
/dev/sdb        25G   5G    20G    <span class="token number">20</span>%   /mnt/data
</code></pre></div>Get the mount point of the disk. In this example the mount point is <code>/dev/sdb</code></li> <li>Select a sub-folder of <code>data</code> to move to the new disk. In this example the sub-folder is <code>data/application.db</code></li> <li>Transfer the sub-folder to the new disk<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  ~/.commercionetwork/data/application.db/ <span class="token punctuation">\</span>
  /mnt/data/application.db/
</code></pre></div></li> <li>Stop the node service and finalize the transfer of the sub-folder to the new disk<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
<span class="token function">rsync</span> <span class="token parameter variable">-av</span> <span class="token parameter variable">--delete</span> <span class="token punctuation">\</span>
  ~/.commercionetwork/data/application.db/ <span class="token punctuation">\</span>
  /mnt/data/application.db/
</code></pre></div></li> <li>Link the new sub-folder to the <code>data</code> folder of the node<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/.commercionetwork/data
<span class="token function">mv</span> application.db application.db_old
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /mnt/data/application.db application.db
</code></pre></div></li> <li>Restart the node service<div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li>Verify if the node is working<div class="language-bash extra-class"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> commercionetworkd <span class="token parameter variable">-f</span>
</code></pre></div></li> <li>Remove the old sub-folder<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> ~/.commercionetwork/data/application.db_old
</code></pre></div></li> <li>Repeat the steps from 3 to 9 for each sub-folder of <code>data</code> you want to move to the new disk</li></ol> <h3 id="prune-the-node"><a href="#prune-the-node" class="header-anchor">#</a> Prune the node</h3> <p>The blockchain and the state of the application can be reduced by pruning the node. Pruning is the process of removing old blocks from the blockchain and the state of the application. The pruning process is performed automatically by the node. The default pruning process can be changed by setting the <code>pruning</code> parameter in the <code>~/.commmercionetwork/config/config.toml</code> file. The default value is <code>default</code> and it is possible to set the value to <code>everything</code>, <code>nothing</code> or <code>custom</code>.
To increase the pruning process it is possible to set the <code>pruning</code> parameter in the <code>config.toml</code> file to <code>everything</code>. The pruning setting can be applied restarting the node service.</p> <p>You can apply pruning <strong>manually</strong> once in a while with the follow procedure.</p> <ol><li><p>Set the home chain path variable to adapt to any chain user</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">home_chain</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>systemctl show commercionetworkd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-oP</span> <span class="token string">'DAEMON_HOME=\K\S+'</span><span class="token variable">)</span></span>
</code></pre></div></li> <li><p>Stop <code>commercionetworkd</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li><p>Prune the node</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token variable">$home_chain</span>/cosmovisor/current/bin/commercionetworkd <span class="token punctuation">\</span>
  forceprune <span class="token parameter variable">-f</span> <span class="token number">282000</span> <span class="token parameter variable">-m</span> <span class="token number">1000</span> <span class="token parameter variable">--home</span> <span class="token variable">$home_chain</span>
</code></pre></div></li> <li><p>Start the node</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li></ol> <h3 id="state-sync-the-node"><a href="#state-sync-the-node" class="header-anchor">#</a> State sync the node</h3> <p>The blockchain and the state of the application can be reduced by state syncing the node. State syncing is the process of downloading the state of the application from a trusted node.
Read more about state syncing <a href="https://docs.tendermint.com/v0.34/tendermint-core/state-sync.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.<br>
If you're looking for how to install a statesynced node follow the instructions <a href="/nodes/statesync-node-installation.html">here</a>.</p> <p>In this guide, we will walk you through the process of reducing the disk usage of your Commercio Network node by state syncing it to the blockchain.</p> <ol><li><p>Set the chain variables to adapt the procedure to any chain user (root or cnd)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Retrieve the chain home path</span>
<span class="token assign-left variable">home_chain</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>systemctl show commercionetworkd <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-oP</span> <span class="token string">'DAEMON_HOME=\K\S+'</span><span class="token variable">)</span></span>

<span class="token comment"># Retrieve the chain user</span>
<span class="token assign-left variable">comm_user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>systemctl show <span class="token parameter variable">-pUser</span> commercionetworkd.service <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">'='</span> <span class="token string">'{print $(NF)}'</span><span class="token variable">)</span></span>
</code></pre></div></li> <li><p>Prepare the setup for the statesync</p></li></ol> <ul><li>Mainnet:<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">TRUST_RPC1</span><span class="token operator">=</span><span class="token string">&quot;rpc-mainnet.commercio.network:80&quot;</span>
<span class="token assign-left variable">TRUST_RPC2</span><span class="token operator">=</span><span class="token string">&quot;rpc2-mainnet.commercio.network:80&quot;</span>

<span class="token comment"># Get the current height of the blockchain.</span>
<span class="token assign-left variable">CURR_HEIGHT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;http://<span class="token variable">$TRUST_RPC1</span>/block&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">'.result.block.header.height'</span><span class="token variable">)</span></span>

<span class="token comment"># Calculate the trust height.</span>
<span class="token assign-left variable">TRUST_HEIGHT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>CURR_HEIGHT<span class="token operator">-</span><span class="token punctuation">(</span>CURR_HEIGHT<span class="token operator">%</span><span class="token number">10000</span><span class="token variable">))</span></span><span class="token punctuation">)</span>

<span class="token comment"># Get the trust hash.</span>
<span class="token assign-left variable">TRUST_HASH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;http://<span class="token variable">$TRUST_RPC1</span>/block?height=<span class="token variable">$TRUST_HEIGHT</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">'.result.block_id.hash'</span><span class="token variable">)</span></span>
</code></pre></div></li> <li>Testnet:<div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">TRUST_RPC1</span><span class="token operator">=</span><span class="token string">&quot;rpc-testnet.commercio.network:80&quot;</span>
<span class="token assign-left variable">TRUST_RPC2</span><span class="token operator">=</span><span class="token string">&quot;rpc2-testnet.commercio.network:80&quot;</span>

<span class="token comment"># Get the current height of the blockchain.</span>
<span class="token assign-left variable">CURR_HEIGHT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;http://<span class="token variable">$TRUST_RPC1</span>/block&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">'.result.block.header.height'</span><span class="token variable">)</span></span>

<span class="token comment"># Calculate the trust height.</span>
<span class="token assign-left variable">TRUST_HEIGHT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>CURR_HEIGHT<span class="token operator">-</span><span class="token punctuation">(</span>CURR_HEIGHT<span class="token operator">%</span><span class="token number">10000</span><span class="token variable">))</span></span><span class="token punctuation">)</span>

<span class="token comment"># Get the trust hash.</span>
<span class="token assign-left variable">TRUST_HASH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;http://<span class="token variable">$TRUST_RPC1</span>/block?height=<span class="token variable">$TRUST_HEIGHT</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">'.result.block_id.hash'</span><span class="token variable">)</span></span>
</code></pre></div></li></ul> <ol start="3"><li><p>Verify the output</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">printf</span> <span class="token string">&quot;rpc_servers = <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$TRUST_RPC1</span>,<span class="token variable">$TRUST_RPC2</span><span class="token entity" title="\&quot;">\&quot;</span><span class="token entity" title="\n">\n</span>trust_height = <span class="token variable">$TRUST_HEIGHT</span><span class="token entity" title="\n">\n</span>trust_hash = <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$TRUST_HASH</span><span class="token entity" title="\&quot;">\&quot;</span><span class="token entity" title="\n">\n</span>&quot;</span>
</code></pre></div><p>The output should be similar to the following:</p> <div class="language-toml extra-class"><pre class="language-toml"><code><span class="token key property">rpc_servers</span> <span class="token punctuation">=</span> <span class="token string">&quot;rpc-mainnet.commercio.network:80,rpc2-mainnet.commercio.network:80&quot;</span>
<span class="token key property">trust_height</span> <span class="token punctuation">=</span> <span class="token number">10520000</span>
<span class="token key property">trust_hash</span> <span class="token punctuation">=</span> <span class="token string">&quot;2A3B7444CD097C556FD1D1AA4D259E99E9F7513041C02EF3B7DCF8F39FFA21F8&quot;</span>
</code></pre></div></li> <li><p>Write the parameters in the config file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s/enable = .*/enable = true/&quot;</span> <span class="token variable">$home_chain</span>/config/config.toml
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s/rpc_servers = <span class="token entity" title="\&quot;">\&quot;</span>.*<span class="token entity" title="\&quot;">\&quot;</span>/rpc_servers = <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$TRUST_RPC1</span>,<span class="token variable">$TRUST_RPC2</span><span class="token entity" title="\&quot;">\&quot;</span>/&quot;</span> <span class="token variable">$home_chain</span>/config/config.toml
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s/trust_height = .*/trust_height = <span class="token variable">$TRUST_HEIGHT</span>/&quot;</span> <span class="token variable">$home_chain</span>/config/config.toml
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s/trust_hash = <span class="token entity" title="\&quot;">\&quot;</span>.*<span class="token entity" title="\&quot;">\&quot;</span>/trust_hash = <span class="token entity" title="\&quot;">\&quot;</span><span class="token variable">$TRUST_HASH</span><span class="token entity" title="\&quot;">\&quot;</span>/&quot;</span> <span class="token variable">$home_chain</span>/config/config.toml
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s/trust_period = <span class="token entity" title="\&quot;">\&quot;</span>.*<span class="token entity" title="\&quot;">\&quot;</span>/trust_period = <span class="token entity" title="\&quot;">\&quot;</span>168h0m0s<span class="token entity" title="\&quot;">\&quot;</span>/&quot;</span> <span class="token variable">$home_chain</span>/config/config.toml
</code></pre></div></li> <li><p>Stop the <code>commercionetworkd</code> process</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl stop commercionetworkd
</code></pre></div></li> <li><p>Backup state file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token variable">$home_chain</span>/data/priv_validator_state.json <span class="token punctuation">\</span>
  <span class="token variable">$home_chain</span>/priv_validator_state.json.backup
</code></pre></div></li> <li><p>Reset node database</p> <div class="language-bash extra-class"><pre class="language-bash"><code>commercionetworkd unsafe-reset-all <span class="token punctuation">\</span>
  <span class="token parameter variable">--home</span> <span class="token variable">$home_chain</span> --keep-addr-book
</code></pre></div></li> <li><p>Copy back the backupped state file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token variable">$home_chain</span>/priv_validator_state.json.backup <span class="token punctuation">\</span>
  <span class="token variable">$home_chain</span>/data/priv_validator_state.json
</code></pre></div></li> <li><p><strong>If you're not operating with root</strong> change the permission accordingly</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token variable">$comm_user</span><span class="token builtin class-name">:</span><span class="token variable">$comm_user</span> <span class="token variable">$home_chain</span>/
</code></pre></div></li> <li><p>Start the node</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl start commercionetworkd
</code></pre></div></li> <li><p>Check the node alignment</p> <div class="language-bash extra-class"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> commercionetworkd <span class="token parameter variable">-f</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token assign-left variable">height</span><span class="token operator">=</span>
</code></pre></div></li> <li><p>Clean up operations</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token variable">$home_chain</span>/priv_validator_state.json.backup
</code></pre></div></li></ol> <h3 id="state-sync-the-node-with-snapshot"><a href="#state-sync-the-node-with-snapshot" class="header-anchor">#</a> State sync the node with snapshot</h3> <p>In this guide, we will walk you through the process of reducing the disk usage of your Commercio Network node by using a <strong>Mainnet</strong> statesync node snapshot from https://quicksync.commercio.network website:</p> <ol><li><p>Set the chain variables to adapt the procedure to any chain user</p> <div class="language- extra-class"><pre class="language-text"><code># Retrieve the chain home path
home_chain=$(systemctl show commercionetworkd | grep -oP 'DAEMON_HOME=\K\S+')

# Retrieve the chain user
comm_user=$(systemctl show -pUser commercionetworkd.service | awk -F'=' '{print $(NF)}')

# Set up CHAINID
CHAINID=&quot;commercio-3&quot;
</code></pre></div></li> <li><p>Stop the <code>commercionetworkd</code> process</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop commercionetworkd
</code></pre></div></li> <li><p>Backup state file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token variable">$home_chain</span>/data/priv_validator_state.json <span class="token punctuation">\</span>
  <span class="token variable">$home_chain</span>/priv_validator_state.json.backup
</code></pre></div><p>you don't need to perform this step if you have a kms or if the node is not a validator</p></li> <li><p>Remove the database</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token variable">$home_chain</span>/data
</code></pre></div></li> <li><p>Download the snapshot and extract it</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token string">&quot;https://quicksync.commercio.network/<span class="token variable">$CHAINID</span>-statesync.latest.tgz&quot;</span> <span class="token parameter variable">-P</span> <span class="token variable">$home_chain</span>/
<span class="token comment"># Check if the checksum matches the one present inside https://quicksync.commercio.network</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$home_chain</span>/
<span class="token function">tar</span> <span class="token parameter variable">-zxf</span> <span class="token variable">$CHAINID</span>-statesync.latest.tgz
<span class="token function">rm</span> <span class="token variable">$CHAINID</span>-statesync.latest.tgz
</code></pre></div></li> <li><p>Copy back the backupped state file</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token variable">$home_chain</span>/priv_validator_state.json.backup <span class="token punctuation">\</span>
  <span class="token variable">$home_chain</span>/data/priv_validator_state.json
</code></pre></div><p>you don't need to perform this step if you have a kms or if the node is not a validator</p></li> <li><p><strong>If you're not operating with root</strong> change the permission accordingly</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">chown</span> <span class="token parameter variable">-R</span> <span class="token variable">$comm_user</span><span class="token builtin class-name">:</span><span class="token variable">$comm_user</span> <span class="token variable">$home_chain</span>/
</code></pre></div></li> <li><p>Start the node</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start commercionetworkd
</code></pre></div></li> <li><p>Check the node alignment</p> <div class="language-bash extra-class"><pre class="language-bash"><code>journalctl <span class="token parameter variable">-u</span> commercionetworkd <span class="token parameter variable">-f</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token assign-left variable">height</span><span class="token operator">=</span>
</code></pre></div></li> <li><p>Clean up operations</p> <div class="language-bash extra-class"><pre class="language-bash"><code> <span class="token function">rm</span> <span class="token variable">$home_chain</span>/priv_validator_state.json.backup
</code></pre></div></li></ol> <p>You can check the alignment using the procedure described <a href="/nodes/full-node-installation.html#verify-node-synchronization-with-the-blockchain">here</a></p> <h2 id="add-identity-to-your-validator"><a href="#add-identity-to-your-validator" class="header-anchor">#</a> Add identity to your validator</h2> <p>In order to publish the validator icon to any explorer, an identity must be created at <a href="https://keybase.io" target="_blank" rel="noopener noreferrer">keybase<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
Below are the steps to be performed</p> <h3 id="references-keybase"><a href="#references-keybase" class="header-anchor">#</a> References keybase</h3> <ul><li><a href="https://book.keybase.io/account" target="_blank" rel="noopener noreferrer">Keybase book<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://keybase.io/docs/api/1.0/intro" target="_blank" rel="noopener noreferrer">Keybase API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_1-registration"><a href="#_1-registration" class="header-anchor">#</a> 1. Registration</h3> <p>In the <a href="https://keybase.io/" target="_blank" rel="noopener noreferrer">Keybase.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> site click on <code>Login</code>; a popup opens where there is a <code>Join Keybase</code> button. After pressing this button fill in the form fields and submit the request.</p> <h3 id="_2-adding-one-or-more-devices"><a href="#_2-adding-one-or-more-devices" class="header-anchor">#</a> 2. Adding one or more devices</h3> <p>Install Keybase on a device, start the program and authenticate with the credentials entered during registration. The application displays a prompt to add the device in use.</p> <h4 id="_2-1-program-installation-on-computers"><a href="#_2-1-program-installation-on-computers" class="header-anchor">#</a> 2.1. Program installation on computers</h4> <ul><li><a href="https://keybase.io/docs/the_app/install_macos" target="_blank" rel="noopener noreferrer">macOS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://keybase.io/docs/the_app/install_linux" target="_blank" rel="noopener noreferrer">Linux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://keybase.io/docs/the_app/install_windows" target="_blank" rel="noopener noreferrer">Windows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="_2-2-app-installation-on-iphone-and-android"><a href="#_2-2-app-installation-on-iphone-and-android" class="header-anchor">#</a> 2.2. App installation on iPhone and Android</h4> <ul><li><a href="https://apps.apple.com/us/app/keybase-crypto-for-everyone/id1044461770" target="_blank" rel="noopener noreferrer">iPhone/iPad<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://play.google.com/store/apps/details?id=io.keybase.ossifrage&amp;referrer=undefined" target="_blank" rel="noopener noreferrer">Android<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_3-verify-email"><a href="#_3-verify-email" class="header-anchor">#</a> 3. Verify email</h3> <p>After authenticating, request verification of the email address.</p> <h3 id="_4-add-logo-and-key"><a href="#_4-add-logo-and-key" class="header-anchor">#</a> 4. Add logo and key</h3> <p>In the <code>people</code> section of the program, click on the <code>Edit Profile</code> button to complete the profile (data and image) and to access the proof list.</p> <p>From the proof list, select <code>Add a PGP key</code>, then add a locally generated PGP public key or create a new one with the <code>Get a new PGP key</code> function provided by the application. Generation via the Keybase application is done automatically, the only actions required are:</p> <ul><li>Fill out the form (<code>full name</code> and <code>email</code>);</li> <li>At the end of generation decide to save or not to Keybase the private key by encrypting it.</li></ul> <p>After adding the key you will be able to access your account image using the <code>https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=[id]&amp;fields=pictures</code> endpoint, where <code>[id]</code> consists of the first 16 hexadecimal digits of the PGP key.</p> <h3 id="_5-edit-your-validator-adding-identity"><a href="#_5-edit-your-validator-adding-identity" class="header-anchor">#</a> 5. Edit your validator adding identity</h3> <p>In order to add the identity to your validator you need to edit the validator profile with a transaction.<br> <strong>Warning: put the values of <code>moniker</code>, <code>website</code> and <code>details</code> according with your environment</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">IDENTITY</span><span class="token operator">=</span><span class="token string">&quot;[id]&quot;</span> <span class="token comment">#ID that you obtained in the previous step. Something like 21C53B7B20C1145D</span>
commercionetworkd tx staking edit-validator <span class="token punctuation">\</span>
  <span class="token parameter variable">--moniker</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$NODENAME</span>&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--identity</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$IDENTITY</span>&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--website</span><span class="token operator">=</span><span class="token string">&quot;your website (leave blank if you don't have it)&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--details</span><span class="token operator">=</span><span class="token string">&quot;description of your node (leave blank if you don't have it)&quot;</span> <span class="token punctuation">\</span>
  --chain-id<span class="token operator">=</span><span class="token string">&quot;commercio-3&quot;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--from</span><span class="token operator">=</span><span class="token operator">&lt;</span>CREATOR ADDRESS<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--fees</span><span class="token operator">=</span>10000ucommercio <span class="token punctuation">\</span>
  <span class="token parameter variable">-y</span>
</code></pre></div><p><em>N.B.: after editing the profile the <code>Edit Profile</code> button will disappear, in its place will be the <code>Prove your identies</code> button until the identity is proven</em></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/commercionetwork/commercionetwork/edit/master/docs/nodes/validator-node-handling.md" target="_blank" rel="noopener noreferrer">Edit this page on Github</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/27/2024, 5:57:37 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/nodes/validator-node-installation.html" class="prev">
        Becoming a validator
      </a></span> <span class="next"><a href="/nodes/validator-node-update.html">
        Updating a validator
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0fc4011c.js" defer></script><script src="/assets/js/2.ac32ef9e.js" defer></script><script src="/assets/js/1.da52573b.js" defer></script><script src="/assets/js/183.42354206.js" defer></script>
  </body>
</html>
